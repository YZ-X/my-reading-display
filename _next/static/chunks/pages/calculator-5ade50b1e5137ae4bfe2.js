(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[481],{7173:function(e,t,i){"use strict";i.r(t),i.d(t,{default:function(){return ee}});var n=i(5893),a=i(9227),r=i(282),l=i(9008),o=i(1664),s=i(7294),c=i(4047),u=i(6265),d=[{value:"Snellen (U.S.)",label:"20/"},{value:"Snellen (Metric)",label:"6/"},{value:"logMAR",label:" "}],m=[{value:"Imperial (in)",label:"in"},{value:"Metric (cm)",label:"cm"}],h=[{value:"yes",CFL:1,label:"Yes"},{value:"no",CFL:0,label:"No"},{value:"dontKnow",CFL:1,label:"Don't Know"}],f=[{font:"No Preference",wx:void 0,wf:void 0,xf:void 0},{font:"Times",wx:.96,wf:.43,xf:.45},{font:"TimesBold",wx:1.07,wf:.49,xf:.46},{font:"TimesItalic",wx:1.04,wf:.45,xf:.43},{font:"Courier",wx:1.33,wf:.6,xf:.45},{font:"CourierBold",wx:1.33,wf:.6,xf:.45},{font:"CourierItalic",wx:1.33,wf:.6,xf:.45},{font:"Helvetica",wx:.96,wf:.5,xf:.52},{font:"HelveticaBold",wx:1.01,wf:.54,xf:.53},{font:"HelveticaItalic",wx:.96,wf:.5,xf:.52},{font:"Arial",wx:.94,wf:.49,xf:.52},{font:"ArialBold",wx:1.04,wf:.54,xf:.52},{font:"ArialItalic",wx:.94,wf:.49,xf:.52},{font:"Calibri",wx:.98,wf:.46,xf:.46},{font:"CalibriBold",wx:1,wf:.47,xf:.47},{font:"CalibriItalic",wx:.97,wf:.45,xf:.47},{font:"Eido",wx:.98,wf:.53,xf:.55},{font:"EidoMono",wx:1.21,wf:.66,xf:.55},{font:"Maxular",wx:1.54,wf:.67,xf:.44}],v=[{label:"40cm (16 inch)",vd:40},{label:"20cm (8 inch)",vd:20},{label:"15cm (6 inch)",vd:15},{label:"Custom",vd:void 0}],x=function e(t,i){(0,c.Z)(this,e),(0,u.Z)(this,"min",void 0),(0,u.Z)(this,"max",void 0),this.min=t,this.max=i};var w=function e(t,i,n,a){(0,c.Z)(this,e),(0,u.Z)(this,"show",void 0),(0,u.Z)(this,"minWidth",void 0),(0,u.Z)(this,"minPoint",void 0),(0,u.Z)(this,"maxPoint",void 0),this.show=t,this.minWidth=i,this.minPoint=n,this.maxPoint=a},p=function(e,t,i){console.log(JSON.stringify(t));var n=-1;n="20/"===t.visualAcuityUnits?-Math.log10(20/parseFloat(t.visualAcuity)):"6/"===t.visualAcuityUnits?-Math.log10(6/parseFloat(t.visualAcuity)):parseFloat(t.visualAcuity),console.log("VA: ".concat(n,", raw val: ").concat(t.visualAcuity));var a=-1,r=function(e){var t=-1;if(h.forEach((function(i){var n=i.CFL,a=i.label;e.normalize()===a.normalize()&&(t=n)})),-1!==t)return t;throw new Error("Could not find CFS option: ".concat(e," result: ").concat(t))}(t.hasCentralFieldLoss);""===t.criticalPrintSize?(a=n+.3+.2*r,console.log("Estimated CPS: ".concat(a,", VA: ").concat(n,", CFL: ").concat(r))):a="20/"===t.criticalPrintSizeUnits?-Math.log10(20/parseFloat(t.criticalPrintSize)):"6/"===t.criticalPrintSizeUnits?-Math.log10(6/parseFloat(t.criticalPrintSize)):parseFloat(t.criticalPrintSize),console.log("CPS: ".concat(a));var l=parseFloat(t.selectedViewingDistance);"Custom"===t.selectedViewingDistance&&(l="in"===t.customViewDistanceUnits?2.54*t.customViewDistance:t.customViewDistance);var o=function(e){var t=-1;if("No Preference"===e.normalize()){var i=Math.min.apply(Math,f.map((function(e){return void 0===e.xf?Number.MAX_VALUE:e.xf}))),n=Math.max.apply(Math,f.map((function(e){return void 0===e.xf?Number.MIN_VALUE:e.xf})));return new x(i,n)}if(f.forEach((function(i){var n=i.font,a=i.xf;n.normalize()===e.normalize()&&void 0!==a&&(t=a)})),-1!==t)return t;throw new Error("Could not find font: ".concat(e," result: ").concat(t))}(t.selectedFont),s=function(e){if("No Preference"===e.normalize()){var t=Math.min.apply(Math,f.map((function(e){return void 0===e.wf?Number.MAX_VALUE:e.wf}))),i=Math.max.apply(Math,f.map((function(e){return void 0===e.wf?Number.MIN_VALUE:e.wf})));return new x(t,i)}var n=-1;if(f.forEach((function(t){var i=t.font,a=t.wf;i.normalize()===e.normalize()&&void 0!==a&&(n=a)})),-1!==n)return n;throw new Error("Could not find font: ".concat(e," result: ").concat(n))}(t.selectedFont),c=.013*l*Math.pow(10,a);if(isNaN(c))throw new Error("minWidth is NaN, vd: ".concat(l,", CPS: ").concat(a));var u=-1;if(o instanceof x)u=new x(.04*l*Math.pow(10,a)/o.min,.04*l*Math.pow(10,a)/o.max);else if(u=.04*l*Math.pow(10,a)/o,isNaN(u))throw new Error("minPoint is NaN, vd: ".concat(l,", CPS: ").concat(a,", xf: ").concat(o));var d=-1;if(s instanceof x)d=new x(c/(.32*s.min),c/(.32*s.max));else if(d=c/(.32*s),isNaN(d))throw new Error("maxPoint is NaN, minWidth: ".concat(c,", wf: ").concat(s));u instanceof x||d instanceof x||(e(new w(!0,c,u,d)),void 0!==i&&i.push("#results"))},y=i(2700),b=i(8127),g=i(8580),Z=i(775),C=i(2318),j=i(7748),P=i(6827),V=i(7397),A=i(964),S=i(6445),D=i(6019),U=i(5166),F=i(553),z=i(8060),N=i(7513),M=i(9501),E={min:-.52,max:3},R=Math.pow(10,-E.min),T=Math.pow(10,-E.max),_={min:6/R,max:6/T},L={min:20/R,max:20/T},B=function(e,t){return M.Rx().when(e,{is:"6/",then:M.Rx().min(_.min,"".concat(t," must be at least ").concat(_.min.toFixed(2))).max(_.max,"".concat(t," must be no greater than ").concat(_.max)).typeError("Please enter a number between ".concat(_.min.toFixed(2)," and ").concat(_.max))}).when(e,{is:"20/",then:M.Rx().min(L.min,"".concat(t," must be at least ").concat(L.min.toFixed(2))).max(L.max,"".concat(t," must be no greater than ").concat(L.max)).typeError("Please enter a number between ".concat(L.min.toFixed(2)," and ").concat(L.max))}).when(e,{is:" ",then:M.Rx().min(E.min,"".concat(t," must be at least ").concat(E.min.toFixed(2))).max(E.max,"".concat(t," must be no greater than ").concat(E.max)).typeError("Please enter a number between ".concat(E.min.toFixed(2)," and ").concat(E.max))}).label(t)},I=M.Ry({visualAcuityUnits:M.nK().oneOf(d.map((function(e){return e.label}))).required().label("Visual Acuity Units"),visualAcuity:B("visualAcuityUnits","Visual Acuity"),criticalPrintSizeUnits:M.nK().oneOf(d.map((function(e){return e.label}))).required().label("Critical Print Size Units"),criticalPrintSize:B("criticalPrintSizeUnits","Critical Print Size"),hasCentralFieldLoss:M.Z_().oneOf(h.map((function(e){return e.label}))).label("Has Central Field Loss"),selectedFont:M.Z_().oneOf(f.map((function(e){return e.font}))).label("Selected Font"),selectedViewingDistance:M.Z_().oneOf(v.map((function(e){return e.label}))).label("Selected Viewing Distance"),customViewDistance:M.Rx().moreThan(0).label("Custom View Distance"),customViewDistanceUnits:M.Z_().oneOf(m.map((function(e){return e.label}))).label("Custom View Distance Units")});function q(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var i,n=(0,Z.Z)(e);if(t){var a=(0,Z.Z)(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return(0,g.Z)(this,i)}}var O={visualAcuityUnits:d[0].label,visualAcuity:"20",criticalPrintSizeUnits:d[0].label,criticalPrintSize:"",hasCentralFieldLoss:"Don't Know",selectedFont:f[0].font,selectedViewingDistance:v[0].label,customViewDistance:10,customViewDistanceUnits:m[0].label},H=function(e){(0,b.Z)(i,e);var t=q(i);function i(){return(0,c.Z)(this,i),t.apply(this,arguments)}return(0,y.Z)(i,[{key:"render",value:function(){var e=this.props,t=e.setResults,i=e.router;return(0,n.jsx)(N.J9,{initialValues:O,validationSchema:I,onSubmit:function(e){return p(t,e,i)},children:function(e){return(0,n.jsxs)(N.l0,{onSubmit:e.handleSubmit,onReset:function(){e.resetForm(),t(new w(!1,-1,-1,-1))},onChange:function(i){e.handleChange(i),t(new w(!1,-1,-1,-1))},children:[(0,n.jsx)(C.Z,{variant:"body1",style:{marginBottom:"1em",marginTop:"1em"},children:"Please enter the reader's binocular visual acuity."}),(0,n.jsxs)(j.Z,{style:{marginTop:"1em"},children:[(0,n.jsx)(P.Z,{required:!0,id:"visualAcuity",name:"visualAcuity",label:"Visual Acuity (VA)",value:e.values.visualAcuity,onChange:e.handleChange,error:e.touched.visualAcuity&&Boolean(e.errors.visualAcuity),helperText:e.touched.visualAcuity&&e.errors.visualAcuity,InputProps:{startAdornment:(0,n.jsx)(V.Z,{position:"start","aria-live":"polite",children:e.values.visualAcuityUnits})},style:{width:"10rem",margin:"0 1rem 0 0"}}),(0,n.jsx)(P.Z,{required:!0,select:!0,id:"visualAcuityUnits",name:"visualAcuityUnits",label:"VA Units",value:e.values.visualAcuityUnits,onChange:e.handleChange,error:e.touched.visualAcuityUnits&&Boolean(e.errors.visualAcuityUnits),helperText:e.touched.visualAcuityUnits&&e.errors.visualAcuityUnits,style:{width:"10rem"},children:d.map((function(e,t){var i=e.value,a=e.label;return(0,n.jsx)(A.Z,{value:a,children:i},t)}))})]}),(0,n.jsxs)(j.Z,{style:{marginTop:"1em",marginBottom:"1em"},children:[(0,n.jsx)(C.Z,{variant:"body1",style:{marginTop:"2em"},children:"Please enter the reader's critical print size measured by reading charts."}),(0,n.jsx)(C.Z,{variant:"body1",style:{marginBottom:"1em"},children:"Critical print size refers to the smallest print size that allows one to read at their maximum reading speed."}),(0,n.jsx)(P.Z,{id:"criticalPrintSize",name:"criticalPrintSize",label:"Critical Print Size (CPS)",value:e.values.criticalPrintSize,onChange:e.handleChange,error:e.touched.criticalPrintSize&&Boolean(e.errors.criticalPrintSize),helperText:e.touched.criticalPrintSize&&e.errors.criticalPrintSize,InputProps:{startAdornment:(0,n.jsx)(V.Z,{position:"start","aria-live":"polite",children:e.values.criticalPrintSizeUnits})},style:{width:"12rem",margin:"0 1rem 0 0"}}),(0,n.jsx)(P.Z,{select:!0,id:"criticalPrintSizeUnits",name:"criticalPrintSizeUnits",label:"CPS Units",value:e.values.criticalPrintSizeUnits,onChange:e.handleChange,style:{width:"10rem"},children:d.map((function(e,t){var i=e.value,a=e.label;return(0,n.jsx)(A.Z,{value:a,children:i},t)}))})]}),(0,n.jsxs)(j.Z,{children:[(0,n.jsx)(C.Z,{variant:"body1",style:{marginBottom:"1em",marginTop:"2em"},children:"Does the reader have central field loss?"}),(0,n.jsxs)(S.Z,{required:!0,children:[(0,n.jsx)(D.Z,{children:"Has Central Field Loss"}),(0,n.jsx)(U.Z,{row:!0,"aria-label":"has central field loss",id:"hasCentralFieldLoss",name:"hasCentralFieldLoss",value:e.values.hasCentralFieldLoss,onChange:e.handleChange,children:h.map((function(e,t){var i=e.label;e.CFL;return(0,n.jsx)(F.Z,{control:(0,n.jsx)(z.Z,{}),value:i,label:i},t)}))})]})]}),(0,n.jsx)(j.Z,{style:{marginTop:"1em",marginBottom:"1em"},children:(0,n.jsx)(P.Z,{select:!0,required:!0,style:{width:"8em"},id:"selectedFont",name:"selectedFont",label:"Selected Font",value:e.values.selectedFont,onChange:e.handleChange,children:f.map((function(e,t){var i=e.font;return(0,n.jsx)(A.Z,{value:i,children:i},t)}))})}),(0,n.jsxs)(j.Z,{style:{marginTop:"1em",marginBottom:"1em"},children:[(0,n.jsx)(P.Z,{select:!0,required:!0,style:{width:"10rem"},id:"selectedViewingDistance",name:"selectedViewingDistance",label:"Viewing Distance",value:e.values.selectedViewingDistance,onChange:e.handleChange,children:v.map((function(e,t){var i=e.label;return(0,n.jsx)(A.Z,{value:i,children:i},t)}))}),(0,n.jsxs)(j.Z,{component:"span",hidden:!Boolean("Custom"===e.values.selectedViewingDistance),children:[(0,n.jsx)(P.Z,{required:!0,id:"customViewDistance",name:"customViewDistance",label:"View Distance",value:e.values.customViewDistance,onChange:e.handleChange,error:e.touched.customViewDistance&&Boolean(e.errors.customViewDistance),helperText:e.touched.customViewDistance&&e.errors.customViewDistance,InputProps:{endAdornment:(0,n.jsx)(V.Z,{position:"end","aria-live":"polite",children:e.values.customViewDistanceUnits})},style:{width:"8rem",margin:"0 1rem"}}),(0,n.jsx)(P.Z,{select:!0,required:!0,id:"customViewDistanceUnits",name:"customViewDistanceUnits",label:"View Distance Units",value:e.values.customViewDistanceUnits,onChange:e.handleChange,style:{width:"10rem"},error:e.touched.customViewDistanceUnits&&Boolean(e.errors.customViewDistanceUnits),helperText:e.touched.customViewDistanceUnits&&e.errors.customViewDistanceUnits,children:m.map((function(e,t){e.value;var i=e.label;return(0,n.jsx)(A.Z,{value:i,children:i},t)}))})]})]}),(0,n.jsx)(r.Z,{color:"primary",variant:"contained",type:"submit",children:"Calculate"}),(0,n.jsx)(r.Z,{color:"secondary",variant:"contained",type:"reset",style:{marginLeft:"1rem"},children:"Clear"})]})}})}}]),i}(s.Component),W=i(6847),k=i(9895),K=i(2302),X=i(3750),J=i(7394),Y=i(8222);function G(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var i,n=(0,Z.Z)(e);if(t){var a=(0,Z.Z)(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return(0,g.Z)(this,i)}}var Q=function(e){(0,b.Z)(i,e);var t=G(i);function i(){return(0,c.Z)(this,i),t.apply(this,arguments)}return(0,y.Z)(i,[{key:"render",value:function(){var e=this.props.results;return(0,n.jsxs)(j.Z,{hidden:!e.show,"aria-live":"polite",children:[(0,n.jsx)(C.Z,{variant:"h3",style:{marginTop:"2rem"},children:"Results"}),(0,n.jsx)("a",{id:"results"}),(0,n.jsxs)(C.Z,{children:["To achieve a maximum reading speed, the reader needs a display with a width larger than ",e.minWidth.toFixed(2),"cm (",(e.minWidth/2.54).toFixed(2),"in)."]}),(0,n.jsx)(W.Z,{component:k.Z,style:{maxWidth:"15rem",margin:"1rem 0"},children:(0,n.jsx)(K.Z,{"aria-label":"point size for chosen font(s)",children:(0,n.jsx)(X.Z,{children:(0,n.jsxs)(J.Z,{children:[(0,n.jsx)(Y.Z,{children:"Hello"}),(0,n.jsx)(Y.Z,{align:"center",children:"Hello"})]})})})})]})}}]),i}(s.Component),$=i(1163);function ee(){var e=s.useState(new w(!1,-1,-1,-1)),t=(0,a.Z)(e,2),i=t[0],c=t[1],u=(0,$.useRouter)();return(0,n.jsxs)("div",{className:"container",children:[(0,n.jsx)(l.default,{children:(0,n.jsx)("title",{children:"Calculator | My Reading Display"})}),(0,n.jsxs)("main",{children:[(0,n.jsx)(o.default,{href:"/",children:(0,n.jsx)(r.Z,{color:"secondary",variant:"contained",children:"Return Home"})}),(0,n.jsx)(H,{setResults:c,router:u}),(0,n.jsx)(Q,{results:i})]}),(0,n.jsx)("footer",{})]})}},5566:function(e,t,i){(window.__NEXT_P=window.__NEXT_P||[]).push(["/calculator",function(){return i(7173)}])}},function(e){e.O(0,[774,439,115,888,179],(function(){return t=5566,e(e.s=t);var t}));var t=e.O();_N_E=t}]);