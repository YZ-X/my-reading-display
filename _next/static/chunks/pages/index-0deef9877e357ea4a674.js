(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{9279:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return k}});var n=a(5893),i=a(7757),r=a.n(i),l=a(2137),o=a(4699),s=a(7294),c=a(9008),d=a(1163),u=a(2318),f=a(7748),h=a(6445),m=a(6394),x=a(2621),v=a(6479),w=a(8286),p=a(7397),g=a(6019),b=a(5166),Z=a(553),j=a(8060),y=a(282),C=[{value:"Snellen (U.S.)",label:"20/"},{value:"Snellen (Metric)",label:"6/"},{value:"logMAR",label:" "}],F=[{value:"Imperial (in)",label:"in"},{value:"Metric (cm)",label:"cm"}],S=[{value:"yes",CFL:1,label:"Yes"},{value:"no",CFL:0,label:"No"},{value:"dontKnow",CFL:1,label:"Don't Know"}],P=[{font:"Times",wx:.96,wf:.43,xf:.45},{font:"TimesBold",wx:1.07,wf:.49,xf:.46},{font:"TimesItalic",wx:1.04,wf:.45,xf:.43},{font:"Courier",wx:1.33,wf:.6,xf:.45},{font:"CourierBold",wx:1.33,wf:.6,xf:.45},{font:"CourierItalic",wx:1.33,wf:.6,xf:.45},{font:"Helvetica",wx:.96,wf:.5,xf:.52},{font:"HelveticaBold",wx:1.01,wf:.54,xf:.53},{font:"HelveticaItalic",wx:.96,wf:.5,xf:.52},{font:"Arial",wx:.94,wf:.49,xf:.52},{font:"ArialBold",wx:1.04,wf:.54,xf:.52},{font:"ArialItalic",wx:.94,wf:.49,xf:.52},{font:"Calibri",wx:.98,wf:.46,xf:.46},{font:"CalibriBold",wx:1,wf:.47,xf:.47},{font:"CalibriItalic",wx:.97,wf:.45,xf:.47},{font:"Eido",wx:.98,wf:.53,xf:.55},{font:"EidoMono",wx:1.21,wf:.66,xf:.55},{font:"Maxular",wx:1.54,wf:.67,xf:.44}],N=[{label:"40cm (16 inch)",vd:40},{label:"20cm (8 inch)",vd:20},{label:"15cm (6 inch)",vd:15},{label:"Custom",vd:-1}];function T(e){var t=-1;if(P.forEach((function(a){var n=a.font,i=(a.wx,a.wf,a.xf);n.normalize()===e.normalize()&&(t=i)})),-1!==t)return t;throw new Error("Could not find font: ".concat(e," result: ").concat(t))}function D(e){var t=-1;if(P.forEach((function(a){var n=a.font,i=(a.wx,a.wf);a.xf;n.normalize()===e.normalize()&&(t=i)})),-1!==t)return t;throw new Error("Could not find font: ".concat(e," result: ").concat(t))}function E(e){var t=-1;if(S.forEach((function(a){var n=a.value,i=a.CFL;e.normalize()===n.normalize()&&(t=i)})),-1!==t)return t;throw new Error("Could not find CFS option: ".concat(e," result: ").concat(t))}function k(){var e=(0,d.useRouter)(),t=s.useState(C[0].label),a=(0,o.Z)(t,2),i=a[0],k=a[1],z=s.useState(""),I=(0,o.Z)(z,2),A=I[0],B=I[1],W=s.useState(C[0].label),_=(0,o.Z)(W,2),M=_[0],q=_[1],L=s.useState(""),V=(0,o.Z)(L,2),R=V[0],U=V[1],H=s.useState("1"),K=(0,o.Z)(H,2),O=K[0],X=K[1],Y=s.useState(P[0].font),G=(0,o.Z)(Y,2),J=G[0],Q=G[1],$=s.useState(N[0].label),ee=(0,o.Z)($,2),te=ee[0],ae=ee[1],ne=s.useState(-1),ie=(0,o.Z)(ne,2),re=ie[0],le=ie[1],oe=s.useState(-1),se=(0,o.Z)(oe,2),ce=se[0],de=se[1],ue=s.useState(-1),fe=(0,o.Z)(ue,2),he=fe[0],me=fe[1],xe=s.useState(!1),ve=(0,o.Z)(xe,2),we=ve[0],pe=ve[1],ge=s.useState(!1),be=(0,o.Z)(ge,2),Ze=be[0],je=be[1],ye=s.useState("0"),Ce=(0,o.Z)(ye,2),Fe=Ce[0],Se=Ce[1],Pe=s.useState(F[0].label),Ne=(0,o.Z)(Pe,2),Te=Ne[0],De=Ne[1],Ee=function(){var t=(0,l.Z)(r().mark((function t(a){var n,l,o,s,c,d,u,f,h;return r().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a.preventDefault(),n=-1,n="20/"===i?-Math.log10(20/parseFloat(A)):"6/"===i?-Math.log10(6/parseFloat(A)):parseFloat(A),console.log("VA: ".concat(n)),l=-1,o=E(O),""===R?(l=n+.3+.2*o,console.log("Estimated CPS: ".concat(l,", VA: ").concat(n,", CFL: ").concat(o))):l="20/"===M?-Math.log10(20/parseFloat(R)):"6/"===M?-Math.log10(6/parseFloat(R)):parseFloat(R),console.log("CPS: ".concat(l)),s=parseFloat(te),!0===Ze&&(s="in"===Te?2.54*parseFloat(Fe):parseFloat(Fe)),c=T(J),d=D(J),u=.013*s*Math.pow(10,l),isNaN(u)){t.next=17;break}le(u),t.next=18;break;case 17:throw new Error("minWidth is NaN, vd: ".concat(s,", CPS: ").concat(l));case 18:if(f=.04*s*Math.pow(10,l)/c,isNaN(f)){t.next=23;break}de(f),t.next=24;break;case 23:throw new Error("minPoint is NaN, vd: ".concat(s,", CPS: ").concat(l,", xf: ").concat(c));case 24:if(h=u/(.32*d),isNaN(h)){t.next=29;break}me(h),t.next=30;break;case 29:throw new Error("maxPoint is NaN, minWidth: ".concat(u,", wf: ").concat(d));case 30:pe(!0),e.push("#results");case 32:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),ke=function(){pe(!1)};return(0,n.jsxs)("div",{className:"container",style:{padding:"1em"},children:[(0,n.jsx)(c.default,{children:(0,n.jsx)("title",{children:"Vision Calculator"})}),(0,n.jsxs)("main",{children:[(0,n.jsx)(u.Z,{variant:"h1",children:"Vision Calculator"}),(0,n.jsx)("hr",{style:{width:"50%",marginLeft:"0px"}}),(0,n.jsxs)("form",{autoComplete:"off",onSubmit:Ee,onChange:ke,children:[(0,n.jsx)(u.Z,{variant:"body1",style:{marginBottom:"1em",marginTop:"2em"},children:"Please enter the reader's binocular visual acuity."}),(0,n.jsx)(u.Z,{variant:"body2",style:{marginBottom:"1em"},children:"Choose from one of the given units."}),(0,n.jsxs)(f.Z,{children:[(0,n.jsxs)(h.Z,{style:{marginRight:"1em"},required:!0,children:[(0,n.jsx)(m.Z,{htmlFor:"visualAcuityUnits",children:"Visual Acuity Units"}),(0,n.jsx)(x.Z,{label:"Visual Acuity Units",labelId:"select-visual-acuity-units",value:i,onChange:function(e){ke(),k(e.target.value)},autoWidth:!0,style:{minWidth:"11em",marginRight:"1em"},children:C.map((function(e,t){var a=e.value,i=e.label;return(0,n.jsx)(v.Z,{value:i,children:a},t)}))})]}),(0,n.jsx)(w.Z,{required:!0,id:"standard-required",label:"Visual Acuity",InputProps:{startAdornment:(0,n.jsx)(p.Z,{position:"start","aria-live":"polite",children:i})},value:A,onChange:function(e){ke(),B(e.target.value)}})]}),(0,n.jsx)(u.Z,{variant:"body1",style:{marginBottom:"1em",marginTop:"2em"},children:"Please enter the reader's critical print size measured by reading charts. Critical print size refers to the smallest print size that allows one to read at their maximum reading speed."}),(0,n.jsx)(u.Z,{variant:"body2",style:{marginBottom:"1em"},children:"Choose from one of the given units."}),(0,n.jsxs)(f.Z,{children:[(0,n.jsxs)(h.Z,{style:{marginRight:"1em"},children:[(0,n.jsx)(m.Z,{htmlFor:"criticalPrintSizeUnits",children:"Critical Print Size Units"}),(0,n.jsx)(x.Z,{labelId:"select-critical-print-size-units",value:M,onChange:function(e){ke(),q(e.target.value)},autoWidth:!0,style:{minWidth:"12em"},children:C.map((function(e,t){var a=e.value,i=e.label;return(0,n.jsx)(v.Z,{value:i,children:a},t)}))})]}),(0,n.jsx)(w.Z,{label:"Critical Print Size",InputProps:{startAdornment:(0,n.jsx)(p.Z,{position:"start","aria-live":"polite",children:M})},value:R,onChange:function(e){ke(),U(e.target.value)}})]}),(0,n.jsx)(u.Z,{variant:"body1",style:{marginBottom:"1em",marginTop:"2em"},children:"Does the reader have central field loss?"}),(0,n.jsxs)(h.Z,{required:!0,children:[(0,n.jsx)(g.Z,{children:"Central Field Loss"}),(0,n.jsx)(b.Z,{row:!0,value:O,onChange:function(e){ke(),X(e.target.value)},children:S.map((function(e,t){var a=e.value,i=(e.CFL,e.label);return(0,n.jsx)(Z.Z,{value:a,control:(0,n.jsx)(j.Z,{color:"primary",required:!0}),label:i},t)}))})]}),(0,n.jsx)("br",{}),(0,n.jsx)(u.Z,{variant:"body1",style:{marginBottom:"1em",marginTop:"2em"},children:"Please select a preferred font."}),(0,n.jsx)(f.Z,{children:(0,n.jsxs)(h.Z,{required:!0,style:{marginRight:"1em"},children:[(0,n.jsx)(m.Z,{htmlFor:"chooseFont",children:"Font"}),(0,n.jsx)(x.Z,{labelId:"select-font",value:J,onChange:function(e){ke(),Q(e.target.value)},autoWidth:!0,style:{minWidth:"12em"},children:P.map((function(e,t){var a=e.font;e.wx,e.wf,e.xf;return(0,n.jsx)(v.Z,{value:a,children:a},t)}))})]})}),(0,n.jsx)(u.Z,{variant:"body1",style:{marginBottom:"1em",marginTop:"2em"},children:"Please enter the preferred viewing distance for reading."}),(0,n.jsx)(f.Z,{children:(0,n.jsxs)(h.Z,{required:!0,style:{marginRight:"1em"},children:[(0,n.jsx)(m.Z,{htmlFor:"chooseViewingDistance",children:"Viewing Distance"}),(0,n.jsx)(x.Z,{labelId:"select-viewing-distance",value:te,onChange:function(e){ke(),"Custom"===e.target.value?je(!0):je(!1),ae(e.target.value)},autoWidth:!0,style:{minWidth:"12em"},children:N.map((function(e,t){var a=e.label;e.vd;return(0,n.jsx)(v.Z,{value:a,children:a},t)}))}),(0,n.jsxs)(f.Z,{hidden:!Ze,"aria-live":"polite",children:[(0,n.jsx)(w.Z,{required:!0,id:"standard-required",label:"Custom view distance",InputProps:{endAdornment:(0,n.jsx)(p.Z,{position:"end","aria-live":"polite",children:Te})},value:Fe,onChange:function(e){ke(),Se(e.target.value)},hidden:!Ze}),(0,n.jsx)(x.Z,{labelId:"select-view-distance-units",value:Te,onChange:function(e){ke(),De(e.target.value)},autoWidth:!0,style:{minWidth:"8em",margin:"1em 0 0 1em"},children:F.map((function(e,t){var a=e.value,i=e.label;return(0,n.jsx)(v.Z,{value:i,children:a},t)}))})]})]})}),(0,n.jsx)(y.Z,{type:"submit",variant:"contained",color:"primary",style:{marginTop:"3em"},children:"Calculate"}),(0,n.jsx)(y.Z,{onClick:function(){B(""),U(""),X("1"),Q(P[0].font),ae(N[0].label),ke()},variant:"contained",color:"secondary",style:{marginTop:"3em",marginLeft:"1em"},children:"Clear"})]}),(0,n.jsxs)(f.Z,{hidden:!we,"aria-live":"polite",children:[(0,n.jsx)("a",{id:"results"}),(0,n.jsx)(u.Z,{variant:"h4",style:{marginTop:"1em"},children:"Results"}),(0,n.jsxs)(u.Z,{variant:"body1",style:{marginTop:"1em"},children:["To achieve a maximum reading speed, the reader needs a display with a width larger than ",re.toFixed(1),"cm (",(re/2.54).toFixed(1)," inch)."]}),(0,n.jsx)(u.Z,{variant:"body1",style:{marginTop:"1em"},children:"Please refer to the table below for a list of common displays that meet this requirements, and choose a preferred display."}),(0,n.jsx)(u.Z,{variant:"body2",style:{background:"#DDDDDD",padding:"2em",margin:"1em"},children:"-- Placeholder for displays -- "}),(0,n.jsxs)(u.Z,{variant:"body1",style:{marginTop:"1em"},children:["To achieve maximum reading speed on a tablet display, when reading at ",te," with ",J," font, the reader needs to use a print size between ",ce.toFixed(1),"pt and ",he.toFixed(1),"pt."]}),(0,n.jsx)(u.Z,{variant:"body2",style:{background:"#DDDDDD",padding:"2em",margin:"1em"},children:"-- Placeholder for figure -- "})]})]}),(0,n.jsx)("footer",{})]})}},5301:function(e,t,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return a(9279)}])}},function(e){e.O(0,[774,351,69],(function(){return t=5301,e(e.s=t);var t}));var t=e.O();_N_E=t}]);