(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{9279:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return E}});var a=n(5893),r=n(7757),i=n.n(r),o=n(2137),l=n(4699),s=n(7294),c=n(9008),d=n(1163),u=n(2318),f=n(7748),h=n(6445),m=n(6394),x=n(2621),v=n(6479),w=n(8286),g=n(7397),p=n(6019),b=n(5166),Z=n(553),j=n(8060),y=n(282),C=[{value:"Snellen (U.S.)",label:"20/"},{value:"Snellen (Metric)",label:"6/"},{value:"logMAR",label:" "}],F=[{value:"yes",CFL:1,label:"Yes"},{value:"no",CFL:0,label:"No"},{value:"dontKnow",CFL:1,label:"Don't Know"}],S=[{font:"Times",wx:.96,wf:.43,xf:.45},{font:"TimesBold",wx:1.07,wf:.49,xf:.46},{font:"TimesItalic",wx:1.04,wf:.45,xf:.43},{font:"Courier",wx:1.33,wf:.6,xf:.45},{font:"CourierBold",wx:1.33,wf:.6,xf:.45},{font:"CourierItalic",wx:1.33,wf:.6,xf:.45},{font:"Helvetica",wx:.96,wf:.5,xf:.52},{font:"HelveticaBold",wx:1.01,wf:.54,xf:.53},{font:"HelveticaItalic",wx:.96,wf:.5,xf:.52},{font:"Arial",wx:.94,wf:.49,xf:.52},{font:"ArialBold",wx:1.04,wf:.54,xf:.52},{font:"ArialItalic",wx:.94,wf:.49,xf:.52},{font:"Calibri",wx:.98,wf:.46,xf:.46},{font:"CalibriBold",wx:1,wf:.47,xf:.47},{font:"CalibriItalic",wx:.97,wf:.45,xf:.47},{font:"Eido",wx:.98,wf:.53,xf:.55},{font:"EidoMono",wx:1.21,wf:.66,xf:.55},{font:"Maxular",wx:1.54,wf:.67,xf:.44}],N=[{label:"40cm (16 inch)",vd:40},{label:"20cm (8 inch)",vd:20},{label:"15cm (6 inch)",vd:15}];function P(e){var t=-1;if(S.forEach((function(n){var a=n.font,r=(n.wx,n.wf,n.xf);a.normalize()===e.normalize()&&(t=r)})),-1!==t)return t;throw new Error("Could not find font: ".concat(e," result: ").concat(t))}function T(e){var t=-1;if(S.forEach((function(n){var a=n.font,r=(n.wx,n.wf);n.xf;a.normalize()===e.normalize()&&(t=r)})),-1!==t)return t;throw new Error("Could not find font: ".concat(e," result: ").concat(t))}function D(e){var t=-1;if(F.forEach((function(n){var a=n.value,r=n.CFL;e.normalize()===a.normalize()&&(t=r)})),-1!==t)return t;throw new Error("Could not find CFS option: ".concat(e," result: ").concat(t))}function E(){var e=(0,d.useRouter)(),t=s.useState(C[0].label),n=(0,l.Z)(t,2),r=n[0],E=n[1],k=s.useState(""),z=(0,l.Z)(k,2),B=z[0],_=z[1],A=s.useState(C[0].label),I=(0,l.Z)(A,2),W=I[0],L=I[1],q=s.useState(""),R=(0,l.Z)(q,2),V=R[0],M=R[1],U=s.useState("1"),H=(0,l.Z)(U,2),K=H[0],O=H[1],X=s.useState(S[0].font),Y=(0,l.Z)(X,2),G=Y[0],J=Y[1],Q=s.useState(N[0].label),$=(0,l.Z)(Q,2),ee=$[0],te=$[1],ne=s.useState(-1),ae=(0,l.Z)(ne,2),re=ae[0],ie=ae[1],oe=s.useState(-1),le=(0,l.Z)(oe,2),se=le[0],ce=le[1],de=s.useState(-1),ue=(0,l.Z)(de,2),fe=ue[0],he=ue[1],me=s.useState(!1),xe=(0,l.Z)(me,2),ve=xe[0],we=xe[1],ge=function(){var t=(0,o.Z)(i().mark((function t(n){var a,o,l,s,c,d,u,f,h;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n.preventDefault(),a=-1,a="20/"===r?20/parseFloat(B):"6/"===r?6/parseFloat(B):parseFloat(B),o=-1,l=D(K),""===V?(o=a+.3+.2*l,console.log("Estimated CPS: ".concat(o,", VA: ").concat(a,", CFL: ").concat(l))):o="20/"===W?20/parseFloat(V):"6/"===W?6/parseFloat(V):parseFloat(V),s=parseFloat(ee),c=P(G),d=T(G),u=.013*s*Math.pow(10,o),isNaN(u)){t.next=14;break}ie(u),t.next=15;break;case 14:throw new Error("minWidth is NaN, vd: ".concat(s,", CPS: ").concat(o));case 15:if(f=.04*s*Math.pow(10,o)/c,isNaN(f)){t.next=20;break}ce(f),t.next=21;break;case 20:throw new Error("minPoint is NaN, vd: ".concat(s,", CPS: ").concat(o,", xf: ").concat(c));case 21:if(h=u/(.32*d),isNaN(h)){t.next=26;break}he(h),t.next=27;break;case 26:throw new Error("maxPoint is NaN, minWidth: ".concat(u,", wf: ").concat(d));case 27:we(!0),e.push("#results");case 29:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),pe=function(){we(!1)};return(0,a.jsxs)("div",{className:"container",style:{padding:"1em"},children:[(0,a.jsx)(c.default,{children:(0,a.jsx)("title",{children:"Vision Calculator"})}),(0,a.jsxs)("main",{children:[(0,a.jsx)(u.Z,{variant:"h1",children:"Vision Calculator"}),(0,a.jsx)("hr",{style:{width:"50%",marginLeft:"0px"}}),(0,a.jsxs)("form",{autoComplete:"off",onSubmit:ge,onChange:pe,children:[(0,a.jsx)(u.Z,{variant:"body1",style:{marginBottom:"1em",marginTop:"2em"},children:"Please enter the reader's binocular visual acuity."}),(0,a.jsx)(u.Z,{variant:"body2",style:{marginBottom:"1em"},children:"Choose from one of the given units."}),(0,a.jsxs)(f.Z,{children:[(0,a.jsxs)(h.Z,{style:{marginRight:"1em"},required:!0,children:[(0,a.jsx)(m.Z,{htmlFor:"visualAcuityUnits",children:"Visual Acuity Units"}),(0,a.jsx)(x.Z,{label:"Visual Acuity Units",labelId:"select-visual-acuity-units",value:r,onChange:function(e){pe(),E(e.target.value)},autoWidth:!0,style:{minWidth:"11em",marginRight:"1em"},children:C.map((function(e,t){var n=e.value,r=e.label;return(0,a.jsx)(v.Z,{value:r,children:n},t)}))})]}),(0,a.jsx)(w.Z,{required:!0,id:"standard-required",label:"Visual Acuity",InputProps:{startAdornment:(0,a.jsx)(g.Z,{position:"start",children:r})},value:B,onChange:function(e){pe(),_(e.target.value)}})]}),(0,a.jsx)(u.Z,{variant:"body1",style:{marginBottom:"1em",marginTop:"2em"},children:"Please enter the reader's critical print size measured by reading charts. Critical print size refers to the smallest print size that allows one to read at their maximum reading speed."}),(0,a.jsx)(u.Z,{variant:"body2",style:{marginBottom:"1em"},children:"Choose from one of the given units."}),(0,a.jsxs)(f.Z,{children:[(0,a.jsxs)(h.Z,{style:{marginRight:"1em"},children:[(0,a.jsx)(m.Z,{htmlFor:"criticalPrintSizeUnits",children:"Critical Print Size Units"}),(0,a.jsx)(x.Z,{labelId:"select-critical-print-size-units",value:W,onChange:function(e){pe(),L(e.target.value)},autoWidth:!0,style:{minWidth:"12em"},children:C.map((function(e,t){var n=e.value,r=e.label;return(0,a.jsx)(v.Z,{value:r,children:n},t)}))})]}),(0,a.jsx)(w.Z,{label:"Critical Print Size",InputProps:{startAdornment:(0,a.jsx)(g.Z,{position:"start",children:W})},value:V,onChange:function(e){pe(),M(e.target.value)}})]}),(0,a.jsx)(u.Z,{variant:"body1",style:{marginBottom:"1em",marginTop:"2em"},children:"Does the reader have central field loss?"}),(0,a.jsxs)(h.Z,{required:!0,children:[(0,a.jsx)(p.Z,{children:"Central Field Loss"}),(0,a.jsx)(b.Z,{row:!0,value:K,onChange:function(e){pe(),O(e.target.value)},children:F.map((function(e,t){var n=e.value,r=(e.CFL,e.label);return(0,a.jsx)(Z.Z,{value:n,control:(0,a.jsx)(j.Z,{color:"primary",required:!0}),label:r},t)}))})]}),(0,a.jsx)("br",{}),(0,a.jsx)(u.Z,{variant:"body1",style:{marginBottom:"1em",marginTop:"2em"},children:"Please select a preferred font."}),(0,a.jsx)(f.Z,{children:(0,a.jsxs)(h.Z,{required:!0,style:{marginRight:"1em"},children:[(0,a.jsx)(m.Z,{htmlFor:"chooseFont",children:"Font"}),(0,a.jsx)(x.Z,{labelId:"select-font",value:G,onChange:function(e){pe(),J(e.target.value)},autoWidth:!0,style:{minWidth:"12em"},children:S.map((function(e,t){var n=e.font;e.wx,e.wf,e.xf;return(0,a.jsx)(v.Z,{value:n,children:n},t)}))})]})}),(0,a.jsx)(u.Z,{variant:"body1",style:{marginBottom:"1em",marginTop:"2em"},children:"Please enter the preferred viewing distance for reading."}),(0,a.jsx)(f.Z,{children:(0,a.jsxs)(h.Z,{required:!0,style:{marginRight:"1em"},children:[(0,a.jsx)(m.Z,{htmlFor:"chooseViewingDistance",children:"Viewing Distance"}),(0,a.jsx)(x.Z,{labelId:"select-viewing-distance",value:ee,onChange:function(e){pe(),te(e.target.value)},autoWidth:!0,style:{minWidth:"12em"},children:N.map((function(e,t){var n=e.label;e.vd;return(0,a.jsx)(v.Z,{value:n,children:n},t)}))})]})}),(0,a.jsx)(y.Z,{type:"submit",variant:"contained",color:"primary",style:{marginTop:"3em"},children:"Calculate"}),(0,a.jsx)(y.Z,{onClick:function(){_(""),M(""),O("1"),J(S[0].font),te(N[0].label),pe()},variant:"contained",color:"secondary",style:{marginTop:"3em",marginLeft:"1em"},children:"Clear"})]}),(0,a.jsxs)(f.Z,{hidden:!ve,children:[(0,a.jsx)("a",{id:"results"}),(0,a.jsx)(u.Z,{variant:"h4",style:{marginTop:"1em"},children:"Results"}),(0,a.jsxs)(u.Z,{variant:"body1",style:{marginTop:"1em"},children:["To achieve a maximum reading speed, the reader needs a display with a width larger than ",re.toFixed(1),"cm (",(re/2.54).toFixed(1)," inch)."]}),(0,a.jsx)(u.Z,{variant:"body1",style:{marginTop:"1em"},children:"Please refer to the table below for a list of common displays that meet this requirements, and choose a preferred display."}),(0,a.jsx)(u.Z,{variant:"body2",style:{background:"#DDDDDD",padding:"2em",margin:"1em"},children:"-- Placeholder for displays -- "}),(0,a.jsxs)(u.Z,{variant:"body1",style:{marginTop:"1em"},children:["To achieve maximum reading speed on a tablet display, when reading at ",ee," with ",G," font, the reader needs to use a print size between ",se.toFixed(1)," and ",fe.toFixed(1),"."]}),(0,a.jsx)(u.Z,{variant:"body2",style:{background:"#DDDDDD",padding:"2em",margin:"1em"},children:"-- Placeholder for figure -- "})]})]}),(0,a.jsx)("footer",{})]})}},5301:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return n(9279)}])}},function(e){e.O(0,[774,351,69],(function(){return t=5301,e(e.s=t);var t}));var t=e.O();_N_E=t}]);